// Place your key bindings in this file to override the defaults
[
    // Page Down - workround to make cursor movement match Nvim
    {
        "key": "pagedown",
        "command": "runCommands",
        "when": "textInputFocus",
        "args": {
        "commands": [
                "scrollPageDown",
                { "command": "cursorMove", "args": { "to": "viewPortTop", "by": "line" } },
                "scrollLineDown",
                "cursorDown",
                "scrollLineDown",
                "cursorDown",
                "scrollLineDown",
                "cursorDown",
                "scrollLineDown",
                "cursorDown",
                "scrollLineDown",
                "cursorDown",
                "scrollLineDown",
                "cursorDown",
                "scrollLineDown",
                "cursorDown",
                "scrollLineDown",
                "cursorDown"
        ]
        }
    },

    // Page Up - workround to make cursor movement match Nvim
    {
        "key": "pageup",
        "command": "runCommands",
        "when": "textInputFocus",
        "args": {
        "commands": [
                "scrollPageUp",
                { "command": "cursorMove", "args": { "to": "viewPortBottom", "by": "line" } },
                "scrollLineUp",
                "cursorUp",
                "scrollLineUp",
                "cursorUp",
                "scrollLineUp",
                "cursorUp",
                "scrollLineUp",
                "cursorUp",
                "scrollLineUp",
                "cursorUp",
                "scrollLineUp",
                "cursorUp",
                "scrollLineUp",
                "cursorUp",
                "scrollLineUp",
                "cursorUp"
        ]
        }
    },
    // Build
    {
        "key": "shift+f2",
        "command": "workbench.action.tasks.build",
        "when": "taskCommandsRegistered"
    },
    // Fuzzy find class / file by name
    {
        "key": "shift+f3",
        "command": "workbench.action.quickOpen"
    },
    // Scroll up 16 Lines
    {
    "key": "shift+f4",
    "command": "runCommands",
    "when": "textInputFocus",
    "args": {
            "commands": [
            "scrollLineUp",
            "cursorUp",
            "scrollLineUp",
            "cursorUp",
            "scrollLineUp",
            "cursorUp",
            "scrollLineUp",
            "cursorUp",
            "scrollLineUp",
            "cursorUp",
            "scrollLineUp",
            "cursorUp",
            "scrollLineUp",
            "cursorUp",
            "scrollLineUp",
            "cursorUp",
            "scrollLineUp",
            "cursorUp",
            "scrollLineUp",
            "cursorUp",
            "scrollLineUp",
            "cursorUp",
            "scrollLineUp",
            "cursorUp",
            "scrollLineUp",
            "cursorUp",
            "scrollLineUp",
            "cursorUp",
            "scrollLineUp",
            "cursorUp",
            "scrollLineUp",
            "cursorUp"
            ]
        }
    },

    // Scroll down 16 Lines
    {
    "key": "shift+f6",
    "command": "runCommands",
    "when": "textInputFocus",
    "args": {
            "commands": [
            "scrollLineDown",
            "cursorDown",
            "scrollLineDown",
            "cursorDown",
            "scrollLineDown",
            "cursorDown",
            "scrollLineDown",
            "cursorDown",
            "scrollLineDown",
            "cursorDown",
            "scrollLineDown",
            "cursorDown",
            "scrollLineDown",
            "cursorDown",
            "scrollLineDown",
            "cursorDown",
            "scrollLineDown",
            "cursorDown",
            "scrollLineDown",
            "cursorDown",
            "scrollLineDown",
            "cursorDown",
            "scrollLineDown",
            "cursorDown",
            "scrollLineDown",
            "cursorDown",
            "scrollLineDown",
            "cursorDown",
            "scrollLineDown",
            "cursorDown",
            "scrollLineDown",
            "cursorDown"
            ]
        }
    },
    // Stop Build / Stop Debugging
    {
        "key": "shift+f7",
        "command": "cmake.outline.stop"
    },
    // Goto Definition
    {
        "key": "shift+f8",
        "command": "editor.action.revealDefinition",
        "when": "editorHasDefinitionProvider && editorTextFocus"
    },
    // Toggle Comment
    {
        "key": "shift+f11",
        "command": "editor.action.commentLine",
        "when": "editorTextFocus"
    },
    // Terminal
    {
      "key": "ctrl+/",
      "command": "workbench.action.terminal.toggleTerminal"
    },
    // File explorer
    {
        "command": "workbench.action.toggleSidebarVisibility",
        "key": "escape",
        "when": "filesExplorerFocus && !inputFocus"
    },
    // {
    //     "command": "workbench.files.action.focusFilesExplorer",
    //     "key": "ctrl+e",
    //     "when": "editorTextFocus"
    // },
    {
        "key": "o",
        "command": "explorer.newFile",
        "when": "filesExplorerFocus && !inputFocus"
    },
    {
        "command": "renameFile",
        "key": "c",
        "when": "filesExplorerFocus && !inputFocus"
    },
    {
        "key": "shift+O",
        "command": "explorer.newFolder",
        "when": "explorerViewletFocus"
    },
    // {
    //     "key": "shift+n",
    //     "command": "workbench.action.newWindow",
    //     "when": "!explorerViewletFocus"
    // },
    {
        "command": "deleteFile",
        "key": "d",
        "when": "filesExplorerFocus && !inputFocus"
    },
    // ─── Debug navigation (active only when paused) ─────────
    {
        "key": "J",
        "command": "workbench.action.debug.setNextStatement",
        "when": "inDebugMode && debugState == 'stopped' && editorTextFocus"
    },
    {
        "key": "H",
        "command": "workbench.action.debug.stepOver",
        "when": "inDebugMode && debugState == 'stopped' && editorTextFocus"
    },
    {
        "key": "L",
        "command": "workbench.action.debug.stepInto",
        "when": "inDebugMode && debugState == 'stopped' && editorTextFocus"
    },
    {
        "key": "K",
        "command": "workbench.action.debug.stepOut",
        "when": "inDebugMode && debugState == 'stopped' && editorTextFocus"
    },
    // ─── Merge-editor helpers (only inside a conflict) ──────
    {
        "key": "J",
        "command": "merge-conflict.accept.incoming",
        "when": "mergeConflict && editorTextFocus"
    },
    {
        "key": "K",
        "command": "merge-conflict.accept.current",
        "when": "mergeConflict && editorTextFocus"
    },
    {
        "key": "H",
        "command": "merge.goToNextUnhandledConflict",
        "when": "mergeConflict && editorTextFocus"
    },
    {
        "key": "L",
        "command": "merge.goToPreviousUnhandledConflict",
        "when": "mergeConflict && editorTextFocus"
    },
    // ─── Fallback cursor movement ─────────
    {
        "key": "J",
        "command": "cursorDown",
        "when": "!inDebugMode && !mergeConflict && vim.mode == 'Normal'"
    },
    {
        "key": "K",
        "command": "cursorUp",
        "when": "!inDebugMode && !mergeConflict && vim.mode == 'Normal'"
    },
    {
        "key": "H",
        "command": "cursorLeft",
        "when": "!inDebugMode && !mergeConflict && vim.mode == 'Normal'"
    },
    {
        "key": "L",
        "command": "cursorRight",
        "when": "!inDebugMode && !mergeConflict && vim.mode == 'Normal'"
    }
    // // Extra
    // {
    //     "key": "ctrl+shift+5",
    //     "command": "editor.emmet.action.matchTag"
    // },
 //
]
