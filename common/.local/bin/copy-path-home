#!/usr/bin/env bash
set -euo pipefail

if [[ "$#" -eq 0 ]]; then
  exit 0
fi

home="${HOME%/}"
paths=()

for path in "$@"; do
  if [[ "$path" == "$home"* ]]; then
    path="~${path#$home}"
  fi
  paths+=("$path")
done

printf '%s\n' "${paths[@]}" | osc-copy
